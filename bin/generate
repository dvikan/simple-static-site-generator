#!/bin/env php
<?php

declare(strict_types=1);

use dvikan\SimpleParts\ErrorHandler;
use dvikan\SimpleStaticSiteGenerator\Generator;

if(file_exists(__DIR__ . '/../../../autoload.php')) {
    // We are installed as a library
    require __DIR__ . '/../../../autoload.php';
} else {
    // We are installed as a project or git cloned
    require __DIR__ . '/../vendor/autoload.php';
}

ErrorHandler::create();

$generator = new Generator([
    'postFolder'    => $argv[1] ?? 'posts',
    'pageFolder'    => $argv[2] ?? 'pages',
    'outFolder'     => $argv[3] ?? 'out',
    'title'         => $argv[4] ?? '',
    'description'   => $argv[5] ?? '',
    'baseUrl'       => $argv[6] ?? '',
]);

$generator->generate();
